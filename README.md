# tech-ox ä¸ªäººåšå®¢

ä¸€ä¸ªä½¿ç”¨ Hugo æ„å»ºçš„å¤šè¯­è¨€ä¸ªäººåšå®¢ï¼Œæ”¯æŒä¸­æ–‡ã€æ—¥æ–‡ç­‰å¤šç§è¯­è¨€ï¼Œé€šè¿‡ GitHub Actions è‡ªåŠ¨éƒ¨ç½²ã€‚

- ğŸŒ **å¤šè¯­è¨€æ”¯æŒ**: ä¸­æ–‡(ç®€ä½“/ç¹ä½“)ã€æ—¥æ–‡ã€é˜¿æ‹‰ä¼¯æ–‡ç­‰
- ğŸ¨ **ç²¾ç¾è®¾è®¡**: é‡‡ç”¨ Stack ä¸»é¢˜çš„å¡ç‰‡å¼è®¾è®¡
- ğŸ“± **å“åº”å¼å¸ƒå±€**: å®Œç¾é€‚é…å„ç§è®¾å¤‡
- ğŸš€ **è‡ªåŠ¨éƒ¨ç½²**: GitHub Actions è‡ªåŠ¨æ„å»ºå’Œå‘å¸ƒ
- ğŸ§® **æ•°å­¦å…¬å¼**: æ”¯æŒ LaTeX/KaTeX æ•°å­¦æ’ç‰ˆ
- ğŸ“– **ä¸°å¯ŒåŠŸèƒ½**: ç›®å½•ã€é˜…è¯»æ—¶é—´ã€ä»£ç é«˜äº®ç­‰

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Hugo extended ç‰ˆæœ¬ï¼ˆ0.87.0+ï¼‰
- Gitï¼ˆç”¨äºç®¡ç† submoduleï¼‰

### æœ¬åœ°å¼€å‘

```bash
# å…‹éš†ä»“åº“ï¼ˆåŒ…å« submoduleï¼‰
git clone --recurse-submodules https://github.com/tech-ox/tech-ox.github.io.git
cd tech-ox

# å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼ˆåŒ…æ‹¬è‰ç¨¿ï¼‰
hugo server -D

# æ‰“å¼€æµè§ˆå™¨è®¿é—®
# http://localhost:1313
```

### åˆ›å»ºæ–°æ–‡ç« 

```bash
# åˆ›å»ºæ–°æ–‡ç« 
hugo new content/post/<æ–‡ç« å>/index.md

# æˆ–åˆ›å»ºç‰¹å®šè¯­è¨€çš„æ–‡ç« 
hugo new content/post/<æ–‡ç« å>/index.zh-cn.md

# ç¼–è¾‘æ–‡ç« 
# åœ¨ content/post/<æ–‡ç« å>/index.md ä¸­ç¼–è¾‘å†…å®¹
# å°†å›¾ç‰‡æ”¾åœ¨åŒç›®å½•ä¸‹ï¼Œä½¿ç”¨ç›¸å¯¹è·¯å¾„å¼•ç”¨ï¼š![](image.jpg)
```

### ç”Ÿæˆç”Ÿäº§ç‰ˆæœ¬

```bash
# ç”Ÿæˆä¸åŒ…å«è‰ç¨¿çš„ç”Ÿäº§ç‰ˆæœ¬
hugo

# æˆ–åŒ…å«è‰ç¨¿çš„å¼€å‘ç‰ˆæœ¬
hugo -D

# è¾“å‡ºæ–‡ä»¶å°†ä¿å­˜åˆ° ./public/ ç›®å½•
```

## é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ archetypes/           # Hugo æ–‡ç« æ¨¡æ¿
â”œâ”€â”€ assets/               # é™æ€èµ„æºï¼ˆè¢« Hugo å¤„ç†ï¼‰
â”œâ”€â”€ content/              # åšå®¢å†…å®¹
â”‚   â”œâ”€â”€ post/             # æ–‡ç« 
â”‚   â”œâ”€â”€ page/             # é¡µé¢ï¼ˆå…³äºã€å½’æ¡£ç­‰ï¼‰
â”‚   â””â”€â”€ categories/       # åˆ†ç±»
â”œâ”€â”€ data/                 # æ•°æ®æ–‡ä»¶
â”œâ”€â”€ i18n/                 # å›½é™…åŒ–æ–‡æœ¬
â”œâ”€â”€ layouts/              # è‡ªå®šä¹‰å¸ƒå±€ï¼ˆè¦†ç›–ä¸»é¢˜ï¼‰
â”œâ”€â”€ static/               # é™æ€èµ„æºï¼ˆç›´æ¥å¤åˆ¶ï¼‰
â”œâ”€â”€ themes/               # Hugo ä¸»é¢˜
â”‚   â””â”€â”€ stack/            # Stack ä¸»é¢˜ï¼ˆgit submoduleï¼‰
â”œâ”€â”€ hugo.yaml             # Hugo é…ç½®æ–‡ä»¶
â””â”€â”€ public/               # ç”Ÿæˆçš„ç½‘ç«™ï¼ˆå¿½ç•¥ç‰ˆæœ¬æ§åˆ¶ï¼‰
```

## é…ç½®è¯´æ˜

### ä¸»é…ç½®æ–‡ä»¶ (hugo.yaml)

å…³é”®é…ç½®é¡¹ï¼š

- **baseurl**: ç½‘ç«™åŸºç¡€ URL
- **DefaultContentLanguage**: é»˜è®¤è¯­è¨€ï¼ˆzh-cnï¼‰
- **pagerSize**: æ¯é¡µæ–‡ç« æ•°ï¼ˆ10 ç¯‡ï¼‰
- **params.article.math**: å¯ç”¨æ•°å­¦æ’ç‰ˆï¼ˆtrueï¼‰
- **params.article.toc**: å¯ç”¨ç›®å½•ï¼ˆtrueï¼‰
- **params.article.readingTime**: æ˜¾ç¤ºé˜…è¯»æ—¶é—´ï¼ˆtrueï¼‰

### æ–‡ç« å‰ç½®å…ƒæ•°æ®ï¼ˆFront Matterï¼‰

ä½¿ç”¨ TOML æ ¼å¼ï¼š

```markdown
+++
date = '2026-01-05T15:30:00+08:00'
title = 'æ–‡ç« æ ‡é¢˜'
draft = false
tags = ['æ ‡ç­¾1', 'æ ‡ç­¾2']
categories = ['åˆ†ç±»å']
image = 'cover.jpg'  # å°é¢å›¾ç‰‡
+++

æ–‡ç« å†…å®¹ä»è¿™é‡Œå¼€å§‹...
```

## å¼€å‘æŒ‡å—

### ä¸»é¢˜å®šåˆ¶

Stack ä¸»é¢˜ä½œä¸º git submodule ç®¡ç†ï¼Œ**ä¸è¦ç›´æ¥ä¿®æ”¹** `themes/stack/` ç›®å½•ã€‚

è‡ªå®šä¹‰ä¸»é¢˜ï¼š
1. åœ¨ `layouts/` ç›®å½•ä¸­åˆ›å»ºåŒåæ–‡ä»¶è¦†ç›–ä¸»é¢˜æ¨¡æ¿
2. åœ¨ `assets/` ç›®å½•ä¸­æ·»åŠ è‡ªå®šä¹‰æ ·å¼æˆ–è„šæœ¬
3. åœ¨ `static/` ç›®å½•ä¸­æ”¾ç½®é™æ€æ–‡ä»¶

### Submodule ç®¡ç†

```bash
# é¦–æ¬¡å…‹éš†æ—¶è·å– submodule
git clone --recurse-submodules <repo-url>

# åˆå§‹åŒ–å·²å­˜åœ¨çš„ submodule
git submodule update --init --recursive

# æ›´æ–°ä¸»é¢˜åˆ°æœ€æ–°ç‰ˆæœ¬
git submodule update --remote themes/stack

# åˆ‡æ¢åˆ°ç‰¹å®šä¸»é¢˜ç‰ˆæœ¬
cd themes/stack
git checkout <tag-or-commit>
cd ../..
git add themes/stack
git commit -m "Update theme to <version>"
```

### æ„å»ºå’Œæµ‹è¯•

```bash
# æœ¬åœ°å¼€å‘ï¼ˆåŒ…å«è‰ç¨¿ï¼‰
hugo server -D

# ç”Ÿäº§æ„å»º
hugo

# æ£€æŸ¥ç”Ÿæˆçš„æ–‡ä»¶
ls -la public/
cat public/CNAME  # éªŒè¯ CNAME é…ç½®
```

## éƒ¨ç½²

è¯¥é¡¹ç›®ä½¿ç”¨ GitHub Actions è‡ªåŠ¨éƒ¨ç½²ã€‚

### éƒ¨ç½²æµç¨‹

1. æ¨é€ä»£ç åˆ° `main` åˆ†æ”¯
2. GitHub Actions è‡ªåŠ¨è§¦å‘å·¥ä½œæµ
3. ä½¿ç”¨ Hugo extended æ„å»ºç½‘ç«™
4. è‡ªåŠ¨éƒ¨ç½²åˆ° `chengang9904/chengang9904.github.io` ä»“åº“

### é…ç½®è¦æ±‚

åœ¨ä»“åº“ Settings ä¸­é…ç½®ï¼š
- `secrets.token`: GitHub ä¸ªäººè®¿é—®ä»¤ç‰Œï¼ˆç”¨äºéƒ¨ç½²åˆ°å¤–éƒ¨ä»“åº“ï¼‰

å·¥ä½œæµæ–‡ä»¶ä½ç½®ï¼š`.github/workflows/hugo_deploy.yaml`

## å¤šè¯­è¨€è®¾ç½®

### æ·»åŠ æ–°è¯­è¨€

1. åœ¨ `hugo.yaml` ä¸­é…ç½®è¯­è¨€ï¼š
   ```yaml
   languages:
     ja:
       languageName: æ—¥æœ¬èª
       weight: 1
   ```

2. åœ¨ `i18n/` ç›®å½•ä¸­æ·»åŠ ç¿»è¯‘æ–‡ä»¶

3. ä½¿ç”¨è¯­è¨€åç¼€åˆ›å»ºå†…å®¹æ–‡ä»¶ï¼š
   ```
   content/post/my-post/
   â”œâ”€â”€ index.md          # ä¸­æ–‡
   â”œâ”€â”€ index.zh-cn.md    # ç®€ä½“ä¸­æ–‡ï¼ˆåŒä¸Šï¼‰
   â””â”€â”€ index.ja.md       # æ—¥æ–‡
   ```

## å¸¸è§é—®é¢˜

### æ€æ ·éšè—è‰ç¨¿æ–‡ç« ï¼Ÿ

åœ¨æ–‡ç« å‰ç½®å…ƒæ•°æ®ä¸­è®¾ç½® `draft = true`ï¼Œæœ¬åœ°å¼€å‘éœ€è¦ä½¿ç”¨ `-D` æ ‡å¿—æ‰èƒ½çœ‹åˆ°ã€‚

**æ³¨æ„**: GitHub Actions ä½¿ç”¨ `hugo build` å‘½ä»¤ï¼ˆä¸åŠ  `-D`ï¼‰ï¼Œæ‰€ä»¥é»˜è®¤è‰ç¨¿æ–‡ç« ä¸ä¼šéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚

### æ€æ ·æ·»åŠ æ•°å­¦å…¬å¼ï¼Ÿ

å¯ç”¨åï¼ˆé»˜è®¤å·²å¯ç”¨ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ KaTeX è¯­æ³•ï¼š

```markdown
è¡Œå†…å…¬å¼ï¼š$a^2 + b^2 = c^2$

ç‹¬ç«‹å…¬å¼ï¼š
$$
\int_0^{\infty} e^{-x^2} dx = \frac{\sqrt{\pi}}{2}
$$
```

### æ€æ ·è‡ªå®šä¹‰èœå•ï¼Ÿ

åœ¨æ–‡ç« çš„å‰ç½®å…ƒæ•°æ®ä¸­æ·»åŠ  `menu` å­—æ®µï¼Œæˆ–ä¿®æ”¹ `hugo.yaml` ä¸­çš„ `menu` é…ç½®ã€‚

### æ„å»ºå¤±è´¥æ€ä¹ˆåŠï¼Ÿ

1. æ£€æŸ¥ Hugo ç‰ˆæœ¬ï¼š`hugo version`ï¼ˆéœ€è¦ extended ç‰ˆæœ¬ï¼‰
2. æ£€æŸ¥ submodule æ˜¯å¦æ­£ç¡®åˆå§‹åŒ–ï¼š`git submodule status`
3. æ¸…é™¤ç¼“å­˜é‡å»ºï¼š`rm -rf resources/` ç„¶å `hugo`

## ç›¸å…³èµ„æº

- [Hugo å®˜æ–¹æ–‡æ¡£](https://gohugo.io/documentation/)
- [Stack ä¸»é¢˜æ–‡æ¡£](https://stack.jimmycai.com/)
- [tech-ox åšå®¢](https://tech-ox.com/)

## AI å¼€å‘æŒ‡å—

æœ¬é¡¹ç›®åŒ…å« `.github/copilot-instructions.md`ï¼Œä¸º AI ç¼–ç¨‹åŠ©æ‰‹æä¾›è¯¦ç»†çš„é¡¹ç›®ä¸Šä¸‹æ–‡ã€æ¶æ„ä¿¡æ¯å’Œå¼€å‘æµç¨‹æŒ‡å¼•ã€‚

## è®¸å¯è¯

æœ¬åšå®¢å†…å®¹å’Œä»£ç æ ¹æ®å„è‡ªçš„è®¸å¯è¯å‘å¸ƒã€‚

---

**å¿«é€Ÿé“¾æ¥**:
- åšå®¢: https://tech-ox.com
- GitHub: https://github.com/chengang9904
- æºä»£ç ä»“åº“: https://github.com/tech-ox/tech-ox
- éƒ¨ç½²ä»“åº“: https://github.com/chengang9904/chengang9904.github.io
